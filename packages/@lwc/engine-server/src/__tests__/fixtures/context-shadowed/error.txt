Cannot use 'in' operator to search for 'type' in shadowed context